<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Bible Bingo: Scripture Sprint</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@600;800&display=swap" rel="stylesheet" />

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script>
    // Firebase configuration - Production
    const firebaseConfig = {
      apiKey: "AIzaSyAFb6AHyBQZwMOrUtgf_-6WJgbmYA4hS8o",
      authDomain: "nothingbutthetruth-1cd23.firebaseapp.com",
      projectId: "nothingbutthetruth-1cd23",
      storageBucket: "nothingbutthetruth-1cd23.appspot.com",
      messagingSenderId: "253692400115",
      appId: "1:253692400115:web:7eb36acdf69382d28d0286"
    };
    
    // Initialize Firebase
    try {
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();
      window.FIREBASE_READY = true;
    } catch (error) {
      console.warn("Firebase initialization failed. Game will use local storage only.", error);
      window.FIREBASE_READY = false;
    }

    // Simple static user ID - can be replaced with real auth later
    const userId = "user_" + Math.random().toString(36).substr(2, 9);
  </script>
</head>
<body>
  <div id="instructionsOverlay" class="overlay">
    <div class="overlay-content">
      <h2>ðŸ“œ How to Play Bible Bingo</h2>
      <ul>
        <li>Select your team: ðŸ”´ Team A or ðŸ”µ Team B</li>
        <li>Click tiles when you know the verse or match the clue</li>
        <li>Complete 5 tiles in a row (horizontal, vertical, or diagonal) to score!</li>
        <li>Scores and progress are saved automatically</li>
        <li>Fullscreen mode gives you more space, especially on mobile</li>
      </ul>
      <button id="startBtn" class="start-btn">ðŸš€ Start Game</button>
    </div>
  </div>

  <div id="rotateOverlay" class="overlay hidden">
    <div class="overlay-content">
      <h2>ðŸ“± Please rotate your device</h2>
      <p>This game is best played in landscape orientation.</p>
    </div>
  </div>

  <main class="bingo-container hidden">
    <h1>ðŸŽ² Bible Bingo: Scripture Sprint</h1>

    <section class="controls">
      <div class="teams">
        <button onclick="setTeam('Team A')" id="teamA" class="active">ðŸ”´ Team A</button>
        <button onclick="setTeam('Team B')" id="teamB">ðŸ”µ Team B</button>
      </div>
      <div class="scoreboard">
        <p>Lines: <span id="lineScore">0</span> | High Score: <span id="highScore">0</span></p>
        <p>Team A: <span id="teamAScore">0</span> | Team B: <span id="teamBScore">0</span></p>
      </div>
    </section>

    <section id="bingoBoard" class="bingo-grid"></section>

    <p id="bingoFeedback" class="feedback"></p>
    <p id="encouragementMessage" class="encouragement">ðŸŒ± Ready for a fresh start!</p>

    <div class="buttons">
      <button onclick="resetBingo()">ðŸ”„ Reset Board</button>
      <button onclick="toggleFullscreen()">ðŸ“± Fullscreen</button>
      <button onclick="window.location.href='/'">â†© Back to Games</button>
    </div>

    <div id="versePopup" class="verse-popup hidden"></div>
  </main>
  <script src="script.js"></script>
</body>
</html>
